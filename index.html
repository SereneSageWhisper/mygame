<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Island Adventure</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Island Adventure</h1>
    <div id="energy">
        <p>Energy: <span id="energy-count">65</span></p>
    </div>  
    <div id="resources">
        <p>Wood: <span id="wood-count">0</span></p>
        <p>Stone: <span id="stone-count">0</span></p>
        <p>Food: <span id="food-count">0</span></p>
    </div>
    <div id="buttons">
        <button id="gather-wood">Gather Wood</button>
        <button id="gather-stone">Gather Stone</button>
        <button id="gather-food">Gather Food</button>
        <button id="save-progress">Save Progress</button>
    </div>

    <script>
        // Initial values
        let woodCount = 0;
        let stoneCount = 0;
        let foodCount = 0;
        let energy = 65;
        const maxEnergy = 65;
        const energyRegenRate = 5; // Amount of energy to regenerate
        const regenInterval = 10000; // Time in milliseconds (10000ms = 10 seconds)

        // Load progress from localStorage
        function loadProgress() {
            if (localStorage.getItem('woodCount')) {
                woodCount = parseInt(localStorage.getItem('woodCount'));
                document.getElementById('wood-count').textContent = woodCount;
            }
            if (localStorage.getItem('stoneCount')) {
                stoneCount = parseInt(localStorage.getItem('stoneCount'));
                document.getElementById('stone-count').textContent = stoneCount;
            }
            if (localStorage.getItem('foodCount')) {
                foodCount = parseInt(localStorage.getItem('foodCount'));
                document.getElementById('food-count').textContent = foodCount;
            }
            if (localStorage.getItem('energy')) {
                energy = parseInt(localStorage.getItem('energy'));
                document.getElementById('energy-count').textContent = energy;
            }
        }

        // Save progress to localStorage
        function saveProgress() {
            localStorage.setItem('woodCount', woodCount);
            localStorage.setItem('stoneCount', stoneCount);
            localStorage.setItem('foodCount', foodCount);
            localStorage.setItem('energy', energy);
        }

        // Update energy and disable buttons if necessary
        function updateEnergy(amount) {
            energy -= amount;
            document.getElementById('energy-count').textContent = energy;
            if (energy <= 0) {
                disableButtons();
            }
        }

        // Gather resources and update energy
        function gatherResource(resource) {
            if (resource === 'wood') {
                woodCount += 1;
                document.getElementById('wood-count').textContent = woodCount;
                updateEnergy(2);
            } else if (resource === 'stone') {
                stoneCount += 1;
                document.getElementById('stone-count').textContent = stoneCount;
                updateEnergy(3);
            } else if (resource === 'food') {
                foodCount += 1;
                document.getElementById('food-count').textContent = foodCount;
                updateEnergy(4);
            }
        }

        // Disable buttons when energy is depleted
        function disableButtons() {
            document.getElementById('gather-wood').disabled = true;
            document.getElementById('gather-stone').disabled = true;
            document.getElementById('gather-food').disabled = true;
        }

        // Enable buttons when energy is available
        function enableButtons() {
            document.getElementById('gather-wood').disabled = false;
            document.getElementById('gather-stone').disabled = false;
            document.getElementById('gather-food').disabled = false;
        }

        // Regenerate energy over time
        function regenerateEnergy() {
            if (energy < maxEnergy) {
                energy += energyRegenRate;
                if (energy > maxEnergy) {
                    energy = maxEnergy;
                }
                document.getElementById('energy-count').textContent = energy;
                if (energy > 0) {
                    enableButtons();
                }
            }
        }

        // Bind functions to buttons
        document.getElementById('gather-wood').onclick = function() { gatherResource('wood'); };
        document.getElementById('gather-stone').onclick = function() { gatherResource('stone'); };
        document.getElementById('gather-food').onclick = function() { gatherResource('food'); };
        document.getElementById('save-progress').onclick = saveProgress;

        // Load progress on startup
        loadProgress();

        // Start energy regeneration
        setInterval(regenerateEnergy, regenInterval);

    </script>
</body>
</html>
